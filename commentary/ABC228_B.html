<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>ABC228 B問題「Takahashi's Secret」</title>
    <link rel="stylesheet" type="text/css" href="style3.css">
    <script type="text/javascript" id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>
    <div class="header">
        <div class="header-logo"><a href = "https://rute-b.github.io/RuteChannel.github.io/">Rute Channel</a></div>
        <div class="header-list">
            <ul>
                <li><a href = "https://rute-b.github.io/RuteChannel.github.io/selfs.html">自己紹介</a></li>
                <li>ABCの戦略</li>
                <li>過去問解説</li>
            </ul>
        </div>
    </div>
    <div class="main">
        <div class = "Tytle">
            <div class = "Problem-Tytle">
                <p><font size = "7">「Takahashi's Secret」</font><font size = "4">(ABC228 B問題)</font></p>
            </div>
        </div>
        <div class = "Info">
            <div class = "Problem-Info">
                <p>Difficulty : 83, solved : 5260/5553</p>
            </div>
        </div>
        <p><a href = "https://atcoder.jp/contests/abc228/tasks/abc228_b">問題文へのリンクはこちら</a></p>
        <div class ="Statement">
            <h1>問題文</h1>
            <p>高橋君には \(N\) 人の友達がいます。 \(N\)人の友達はそれぞれ、友達 \(1\) 、友達 \(2\) 、 \(\dots \) 、友達 \(N\) というあだ名で呼ばれています。</p>
            <p>ある日、高橋君はある恥ずかしい秘密を、友達の一人である友達 \(X\) に知られてしまいました。</p>
            <p>\(i = 1,2,\dots\,N \) について、友達 \(i\) が高橋君の秘密を知ったとき、友達 \(A_i\)　がまだ高橋君の秘密を知らなければ、友達 \(i\)は高橋君の秘密を友達\(A_i\)にも教えてしまいます。</p>
            <p>高橋君の秘密は最終的に何人の友達に知られることになるでしょうか？</p>
        </div>
        <div class ="Constraints">
        <h1>制約</h1>
            <ul>
                <li>\(2 \le N \le 10^{5}\)</li>
                <li>\(1 \le X \le N \)</li>
                <li>\(1 \le A_i \le N \)</li>
                <li>\(A_i \ne i \)</li>
                <li>入力は全て整数</li>
            </ul>
        </div>
        <div class = "Editional">
        <h1>解説</h1>
        <p>「友達 \(i\) が高橋君の秘密を(初めて)知ったとき、高橋君の秘密を友達 \(A_i\) にも教えてしまう」ということは</p>
        <p>「友達 \(i\) が高橋君の秘密を(既に)知っているとき、高橋君の秘密を友達 \(A_i\) には教えない」ということと同値です.</p>
        <p>したがってこの問題は,<b>「高橋君の秘密が,秘密を既に知っている友達に行き着くまでどんどん別の友人に知られるので,それまでに経由した友達の人数を答えて下さい」</b>ということになります.</p>
        <h2>1.シミュレーションによる解法</h2>
        <p>以下のシミュレーションを行います(1-indexedとします)</p>
        <ul>
            <li> \(know[i]\) = 友達 \(i\) \(i = 1,2,\dots, \) が高橋君の秘密を知っているかのフラグ として長さ \(N\) の \(0\) で初期化された配列を作成します.</li>
            <li> \(know[X] = 1\) とします.</li>
            <li> \(now = A_X \) として, \(know[now] \ne 1 \) の間以下のループを回します.</li>
            <li> \(know[now] \) に \(1\) を代入し, \(now = A_{now}\) とする.</li>
            <li> 最終的な\(know\) の総和が答えなので,これを出力する. </li>
        </ul>
        <p>少々分かりづらくなったかもしれませんが,要は<b>次に教える友達が高橋君の秘密を既に知る状況に行き着く</b>までシミュレーションが続く,ということです.計算量は最悪の場合を考慮すると, \(O(N)\) です.</p>
        <p>ソースコードは以下の通りです.</p>
        <a href = "https://atcoder.jp/contests/abc228/submissions/27416773">ソースコード</a>
        </div>
    </div>
        <div class="footer">
        <div class="footer-list">
            <ul>
                <li>お問い合わせ</li>
            </ul>
        </div>
    </div>
</body>
</html>
